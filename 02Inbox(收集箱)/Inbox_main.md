ç”¨æ¥ä¸´æ—¶æ•æ‰æƒ³æ³•ã€é“¾æ¥ç­‰ï¼›å®šæœŸæ¸…ç†å¹¶å°†å†…å®¹å½’æ¡£åˆ°å…¶ä»–ç±»åˆ«ã€‚


```dataviewjs
// ==========================================
// 1. è¯·åŠ¡å¿…ä¿®æ”¹è¿™é‡Œï¼ç¡®ä¿å’Œä½ çš„æ–‡ä»¶å¤¹åå­—ä¸€æ¨¡ä¸€æ ·
// ==========================================
const folderPath = "07daily"; 

// è¿™é‡Œæ˜¯ä½ æƒ³è¦å¯»æ‰¾çš„æ ‡é¢˜å…³é”®å­—ï¼ˆåªè¦æ ‡é¢˜é‡ŒåŒ…å«è¿™å‡ ä¸ªå­—å°±è¡Œï¼Œä¸ç”¨å†™å…¨ï¼Œé˜²æ­¢å› ä¸ºç©ºæ ¼æˆ–ç¬¦å·å¯¼è‡´åŒ¹é…å¤±è´¥ï¼‰
const headerKeyword = "ğŸ“¥ æ”¶é›†ç®±"; 

// æœç´¢æœ€è¿‘å¤šå°‘å¤©çš„æ–‡ä»¶
const limit = 30; 

// ==========================================

const pages = dv.pages(`"${folderPath}"`)
    .sort(p => p.file.name, "desc")
    .limit(limit);

// ç”¨äºè°ƒè¯•ï¼šå¦‚æœæ²¡æœ‰æ‰¾åˆ°ä»»ä½•æ–‡ä»¶ï¼Œæ‰“å°ä¸€æ¡é”™è¯¯ä¿¡æ¯
if (pages.length === 0) {
    dv.paragraph(`âŒ **é”™è¯¯**ï¼šåœ¨è·¯å¾„ "${folderPath}" ä¸‹æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æ–‡ä»¶ã€‚è¯·æ£€æŸ¥ä»£ç ç¬¬ä¸€è¡Œçš„æ–‡ä»¶å¤¹åç§°æ˜¯å¦æ­£ç¡®ã€‚`);
}

for (let page of pages) {
    const content = await dv.io.load(page.file.path);
    const lines = content.split("\n"); // æŠŠå…¨æ–‡æŒ‰è¡Œåˆ‡åˆ†
    
    let isReadingTargetSection = false; // å¼€å…³ï¼šæ˜¯å¦æ­£åœ¨è¯»å–ç›®æ ‡åŒºåŸŸ
    let tasks = []; // å­˜æ”¾æå–åˆ°çš„ä»»åŠ¡

    for (let line of lines) {
        // 1. æ£€æµ‹æ ‡é¢˜è¡Œ
        // å¦‚æœè¡Œæ˜¯ä»¥ # å¼€å¤´ï¼Œå¹¶ä¸”åŒ…å«å…³é”®å­—
        if (line.startsWith("#") && line.includes(headerKeyword)) {
            isReadingTargetSection = true;
            continue; // è·³è¿‡æ ‡é¢˜è¿™ä¸€è¡Œï¼Œçœ‹ä¸‹ä¸€è¡Œ
        }

        // 2. å¦‚æœå·²ç»å¼€å¯è¯»å–æ¨¡å¼ï¼Œæ£€æµ‹æ˜¯å¦é‡åˆ°äº†â€œä¸‹ä¸€ä¸ªæ ‡é¢˜â€
        // å¦‚æœé‡åˆ°äº†æ–°çš„ # æ ‡é¢˜ï¼Œè¯´æ˜è¿™éƒ¨åˆ†å†…å®¹ç»“æŸäº†ï¼Œåœæ­¢è¯»å–
        if (isReadingTargetSection && line.startsWith("#")) {
            break; 
        }

        // 3. æ”¶é›†ä»»åŠ¡
        // åªæœ‰åœ¨â€œè¯»å–æ¨¡å¼â€ä¸‹ï¼Œä¸”è¿™ä¸€è¡ŒåŒ…å« "- [ ]" æˆ– "- [x]" æ—¶æ‰æ”¶é›†
        if (isReadingTargetSection) {
            // æ­£åˆ™è¯´æ˜ï¼šåŒ¹é…ä»¥ - æˆ– * å¼€å¤´ï¼Œåé¢è·Ÿç€ [ ] æˆ– [x] çš„è¡Œ
            if (/^\s*[-*] \[[ xX]\]/.test(line)) {
                tasks.push(line);
            }
        }
    }

    // åªæœ‰å½“è¿™ä¸€å¤©æ‰¾åˆ°äº†ä»»åŠ¡æ—¶ï¼Œæ‰æ˜¾ç¤ºå‡ºæ¥
    if (tasks.length > 0) {
        dv.header(3, page.file.link); // æ˜¾ç¤ºæ—¥æœŸé“¾æ¥
        dv.list(tasks);               // æ˜¾ç¤ºä»»åŠ¡åˆ—è¡¨
    }
}
```

